<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Giphy</title>
</head>
<body onload="redirect()">
    <script language=javascript>
        function redirect() {
            const urlToSearchMethod = 'search?q='
            const urlToGifMethod = 'gif/'
            const state = history.state;
            let pathName = window.location.pathname;
            if (window.location.search) {
                pathName = pathName + window.location.search;
            }
            localStorage.setItem('historyState', JSON.stringify(state));
            localStorage.setItem('pathName', JSON.stringify(pathName));

            if (window.location.indexOf(urlToSearchMethod) >= 0) {
                window.location = window.location.substring(0, window.location.indexOf(urlToSearchMethod))
                return
            }

            window.location = window.location.substring(0, window.location.indexOf(urlToGifMethod))
        }
    </script>
</body>
</html>